variables:

  shared: barrier := numThreads

code per thread/process:

  atomic{barrier := barrier - 1};
  while barrier != 0 {}

