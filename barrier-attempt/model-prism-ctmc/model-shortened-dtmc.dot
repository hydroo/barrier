digraph {

	"shortened dtmc\nlocal variables: copy, me\nshared variables: entry, exit, left" [nojustify=true, shape=box]
	
	initial_state_source [style=invis]
	initial_state_source -> "0"

	"0"  -> "1"  [weight=10, label="entry := 0x0; left := false"]
	"1"  -> "2"  [weight=10, label="copy := entry"]

	"2"  -> "5"  [weight=10, label="copy&me == 0 : entry := copy|me"]
	"2"  -> "5"  [label="else"]

	"5"  -> "1"  [label="copy != full & left = false"]
	"5"  -> "8"  [weight=10, label="else"]

	"8"  -> "10"  [weight=10, label="exit := 0x0; left := true"]

	"10" -> "11" [weight=10, label="copy := exit"]
	"11" -> "14" [weight=10, label="copy&me == 0 : exit := copy|me"]
	"11" -> "14" [label="else"]

	"14" -> "10" [label="copy != full & left = true"]
	"14" -> "0" [label="else"]
}

